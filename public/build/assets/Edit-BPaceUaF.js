import{g as O,x as L,d as V,c as K,o as n,w as k,b as d,a as e,f as l,h,u as r,l as q,t as g,S as w,i as y,p as H,e as b,n as D,F as _,j as S,A as f,q as z,J as C}from"./app-BkLrAedk.js";import{A as I}from"./AdminLayout-CHzjQs8f.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as U}from"./EyeIcon-Cyvl-doX.js";import{r as B}from"./ArrowLeftIcon-7IsU4O-a.js";import{r as R}from"./PlusIcon-DoV9BNAc.js";import{r as W}from"./UserGroupIcon-CCxdIZXN.js";import{r as $}from"./TrashIcon-BmbtPUrI.js";import{r as Q}from"./CheckIcon-DtsMpUWF.js";import{r as X}from"./DocumentDuplicateIcon-uT3NtFHV.js";import"./HomeIcon-BQBmvNzm.js";import"./UsersIcon-BSahiIS1.js";import"./ClockIcon-DifFxn8x.js";const Y={class:"min-h-screen bg-gray-50 dark:bg-gray-900 -m-6 p-6"},Z={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg mb-6"},ee={class:"px-8 py-6"},te={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between"},re={class:"mb-4 lg:mb-0"},se={class:"text-gray-600 dark:text-gray-400 mt-2"},oe={class:"flex items-center space-x-3"},ae={class:"grid grid-cols-1 xl:grid-cols-4 gap-6"},ne={class:"xl:col-span-3"},ie={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg"},le={class:"p-8 space-y-6"},de=["label"],ge=["value"],ue={key:0,class:"text-red-500 text-sm mt-1"},me={key:0,class:"text-red-500 text-sm mt-1"},ye={class:"flex justify-between items-center mt-2"},be={key:0,class:"text-red-500 text-sm"},pe={class:"text-gray-500 text-sm"},xe={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg"},ce={class:"p-8"},ke={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},fe={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg"},ve={class:"px-8 py-6 border-b border-gray-200 dark:border-gray-700"},he={class:"flex items-center justify-between"},we={class:"p-8"},_e={key:0,class:"text-center py-12 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg"},Se={key:1,class:"space-y-4"},ze={class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},De={class:"lg:col-span-2"},je=["onUpdate:modelValue"],Ve=["value"],Ke=["onUpdate:modelValue"],Ce={class:"flex items-end"},Ue=["onClick"],Be={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg"},$e={class:"p-8"},Ae={class:"text-gray-500 text-sm mt-2"},Ee={class:"xl:col-span-1 space-y-6"},Te={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},Ge={class:"space-y-3"},Me=["disabled"],Ne={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},Pe={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},Fe={class:"space-y-3 text-sm"},Oe={class:"flex justify-between"},Le={class:"text-gray-900 dark:text-white font-medium"},qe={class:"flex justify-between"},He={class:"text-gray-900 dark:text-white font-medium"},Ie={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},Je={class:"space-y-2"},Re={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},We={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4"},Qe={class:"flex items-center justify-end space-x-3"},Xe={__name:"Edit",props:{presentation:{type:Object,required:!0},programSessions:{type:Array,default:()=>[]},participants:{type:Array,default:()=>[]}},setup(p){const i=p,v=O(!1),s=L({program_session_id:i.presentation.program_session_id,title:i.presentation.title,abstract:i.presentation.abstract||"",duration_minutes:i.presentation.duration_minutes,presentation_type:i.presentation.presentation_type||"",language:i.presentation.language||"",notes:i.presentation.notes||"",sort_order:i.presentation.sort_order||0,speakers:i.presentation.speakers||[]}),A=V(()=>[{label:"Ana Sayfa",href:route("admin.dashboard")},{label:"Sunumlar",href:route("admin.presentations.index")},{label:i.presentation.title,href:route("admin.presentations.show",i.presentation.id)},{label:"Düzenle",href:null}]),E=V(()=>{const a={};return i.programSessions.forEach(t=>{var c,o;const m=(o=(c=t.venue)==null?void 0:c.eventDay)==null?void 0:o.event;m&&(a[m.id]||(a[m.id]={id:m.id,name:m.name,sessions:[]}),a[m.id].sessions.push(t))}),Object.values(a)}),T=a=>{if(!a)return"";try{return a.substring(0,5)}catch{return a}},G=()=>{s.speakers.push({participant_id:"",role:"primary",sort_order:s.speakers.length})},M=a=>{s.speakers.splice(a,1),s.speakers.forEach((t,m)=>{t.sort_order=m})},j=()=>{s.put(route("admin.presentations.update",i.presentation.id),{onSuccess:()=>{},onError:a=>{console.error("Form errors:",a)}})},N=()=>{C.post(route("admin.presentations.duplicate",i.presentation.id),{},{onSuccess:()=>{}})},P=()=>{v.value=!0},F=()=>{C.delete(route("admin.presentations.destroy",i.presentation.id),{onSuccess:()=>{v.value=!1}})};return(a,t)=>(n(),K(I,{"page-title":"Sunumu Düzenle","page-subtitle":`'${p.presentation.title}' sunumunu düzenle`,breadcrumbs:A.value,"full-width":!0},{default:k(()=>{var m,c;return[d(r(q),{title:`${p.presentation.title} - Düzenle`},null,8,["title"]),e("div",Y,[e("div",Z,[e("div",ee,[e("div",te,[e("div",re,[t[8]||(t[8]=e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," Sunumu Düzenle ",-1)),e("p",se,' "'+g(p.presentation.title)+'" sunumunu düzenleyin ve değişikliklerinizi kaydedin ',1)]),e("div",oe,[d(r(w),{href:a.route("admin.presentations.show",p.presentation.id),class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors"},{default:k(()=>[d(r(U),{class:"h-4 w-4 mr-2"}),t[9]||(t[9]=y(" Görüntüle "))]),_:1,__:[9]},8,["href"]),d(r(w),{href:a.route("admin.presentations.index"),class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors"},{default:k(()=>[d(r(B),{class:"h-4 w-4 mr-2"}),t[10]||(t[10]=y(" Geri Dön "))]),_:1,__:[10]},8,["href"])])])])]),e("div",ae,[e("div",ne,[e("form",{onSubmit:H(j,["prevent"]),class:"space-y-6"},[e("div",ie,[t[15]||(t[15]=e("div",{class:"px-8 py-6 border-b border-gray-200 dark:border-gray-700"},[e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Temel Bilgiler "),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"}," Sunumun başlık, özet ve temel özelliklerini düzenleyin ")],-1)),e("div",le,[e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[y(" Program Oturumu "),e("span",{class:"text-red-500"},"*")],-1)),b(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>r(s).program_session_id=o),class:D(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-gray-500",{"border-red-500":r(s).errors.program_session_id}])},[t[11]||(t[11]=e("option",{value:""},"Oturum Seçin",-1)),(n(!0),l(_,null,S(E.value,o=>(n(),l("optgroup",{key:o.id,label:o.name},[(n(!0),l(_,null,S(o.sessions,x=>{var u;return n(),l("option",{key:x.id,value:x.id},g(x.title)+" - "+g((u=x.venue)==null?void 0:u.display_name)+" ("+g(T(x.start_time))+") ",9,ge)}),128))],8,de))),128))],2),[[f,r(s).program_session_id]]),r(s).errors.program_session_id?(n(),l("p",ue,g(r(s).errors.program_session_id),1)):h("",!0)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[y(" Sunum Başlığı "),e("span",{class:"text-red-500"},"*")],-1)),b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>r(s).title=o),type:"text",class:D(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-gray-500 text-lg",{"border-red-500":r(s).errors.title}]),placeholder:"Sunum başlığını girin",maxlength:"500"},null,2),[[z,r(s).title]]),r(s).errors.title?(n(),l("p",me,g(r(s).errors.title),1)):h("",!0)]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Özet ",-1)),b(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>r(s).abstract=o),rows:"8",class:D(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-gray-500",{"border-red-500":r(s).errors.abstract}]),placeholder:"Sunum özetini girin",maxlength:"5000"},null,2),[[z,r(s).abstract]]),e("div",ye,[r(s).errors.abstract?(n(),l("p",be,g(r(s).errors.abstract),1)):h("",!0),e("p",pe,g(((m=r(s).abstract)==null?void 0:m.length)||0)+"/5000 karakter ",1)])])])]),e("div",xe,[t[21]||(t[21]=e("div",{class:"px-8 py-6 border-b border-gray-200 dark:border-gray-700"},[e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Detaylar "),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"}," Sunum türü, dil ve süre bilgilerini belirleyin ")],-1)),e("div",ce,[e("div",ke,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Sunum Türü ",-1)),b(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>r(s).presentation_type=o),class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-gray-500"},t[16]||(t[16]=[e("option",{value:""},"Tür Seçin",-1),e("option",{value:"keynote"},"Keynote",-1),e("option",{value:"oral"},"Sözlü Bildiri",-1),e("option",{value:"poster"},"Poster",-1),e("option",{value:"panel"},"Panel",-1),e("option",{value:"workshop"},"Workshop",-1)]),512),[[f,r(s).presentation_type]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Süre (Dakika) ",-1)),b(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>r(s).duration_minutes=o),type:"number",min:"1",max:"480",class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"60"},null,512),[[z,r(s).duration_minutes,void 0,{number:!0}]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Dil ",-1)),b(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>r(s).language=o),class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-gray-500"},t[19]||(t[19]=[e("option",{value:""},"Dil Seçin",-1),e("option",{value:"tr"},"Türkçe",-1),e("option",{value:"en"},"İngilizce",-1),e("option",{value:"de"},"Almanca",-1),e("option",{value:"fr"},"Fransızca",-1)]),512),[[f,r(s).language]])])])])]),e("div",fe,[e("div",ve,[e("div",he,[t[23]||(t[23]=e("div",null,[e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Konuşmacılar "),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"}," Sunumda yer alacak konuşmacıları ekleyin ve rollerini belirleyin ")],-1)),e("button",{type:"button",onClick:G,class:"inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors"},[d(r(R),{class:"h-4 w-4 mr-2"}),t[22]||(t[22]=y(" Konuşmacı Ekle "))])])]),e("div",we,[r(s).speakers.length===0?(n(),l("div",_e,[d(r(W),{class:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t[24]||(t[24]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," Henüz konuşmacı eklenmedi ",-1)),t[25]||(t[25]=e("p",{class:"text-gray-500 dark:text-gray-400"}," Sunuma konuşmacı eklemek için yukarıdaki butonu kullanın ",-1))])):(n(),l("div",Se,[(n(!0),l(_,null,S(r(s).speakers,(o,x)=>(n(),l("div",{key:x,class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6 border border-gray-200 dark:border-gray-600"},[e("div",ze,[e("div",De,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Katılımcı ",-1)),b(e("select",{"onUpdate:modelValue":u=>o.participant_id=u,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-gray-500"},[t[26]||(t[26]=e("option",{value:""},"Katılımcı Seçin",-1)),(n(!0),l(_,null,S(p.participants,u=>(n(),l("option",{key:u.id,value:u.id},g(u.first_name)+" "+g(u.last_name),9,Ve))),128))],8,je),[[f,o.participant_id]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Rol ",-1)),b(e("select",{"onUpdate:modelValue":u=>o.role=u,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-gray-500"},t[28]||(t[28]=[e("option",{value:"primary"},"Ana Konuşmacı",-1),e("option",{value:"secondary"},"Ko-Konuşmacı",-1),e("option",{value:"moderator"},"Moderatör",-1)]),8,Ke),[[f,o.role]])]),e("div",Ce,[e("button",{type:"button",onClick:u=>M(x),class:"w-full px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors inline-flex items-center justify-center"},[d(r($),{class:"h-4 w-4 mr-2"}),t[30]||(t[30]=y(" Kaldır "))],8,Ue)])])]))),128))]))])]),e("div",Be,[t[31]||(t[31]=e("div",{class:"px-8 py-6 border-b border-gray-200 dark:border-gray-700"},[e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Notlar "),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"}," İç notlar ve ek bilgiler ekleyin (opsiyonel) ")],-1)),e("div",$e,[b(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=o=>r(s).notes=o),rows:"4",class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"İç notlar (opsiyonel)",maxlength:"1000"},null,512),[[z,r(s).notes]]),e("p",Ae,g(((c=r(s).notes)==null?void 0:c.length)||0)+"/1000 karakter ",1)])])],32)]),e("div",Ee,[e("div",Te,[t[34]||(t[34]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," İşlemler ",-1)),e("div",Ge,[e("button",{onClick:j,disabled:r(s).processing,class:"w-full inline-flex items-center justify-center px-4 py-3 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 text-white font-medium rounded-lg transition-colors"},[r(s).processing?(n(),l("span",Ne)):(n(),K(r(Q),{key:1,class:"h-4 w-4 mr-2"})),y(" "+g(r(s).processing?"Güncelleniyor...":"Değişiklikleri Kaydet"),1)],8,Me),e("button",{type:"button",onClick:N,class:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors"},[d(r(X),{class:"h-4 w-4 mr-2"}),t[32]||(t[32]=y(" Kopyala "))]),e("button",{type:"button",onClick:P,class:"w-full inline-flex items-center justify-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors"},[d(r($),{class:"h-4 w-4 mr-2"}),t[33]||(t[33]=y(" Sil "))])])]),e("div",Pe,[t[38]||(t[38]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Hızlı Bilgiler ",-1)),e("div",Fe,[e("div",Oe,[t[35]||(t[35]=e("span",{class:"text-gray-500 dark:text-gray-400"},"ID",-1)),e("span",Le,"#"+g(p.presentation.id),1)]),e("div",qe,[t[36]||(t[36]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Konuşmacı",-1)),e("span",He,g(r(s).speakers.length),1)]),t[37]||(t[37]=e("div",{class:"flex justify-between"},[e("span",{class:"text-gray-500 dark:text-gray-400"},"Durum"),e("span",{class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}," Aktif ")],-1))])]),e("div",Ie,[t[41]||(t[41]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Gezinti ",-1)),e("div",Je,[d(r(w),{href:a.route("admin.presentations.show",p.presentation.id),class:"block px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors"},{default:k(()=>[d(r(U),{class:"h-4 w-4 inline mr-2"}),t[39]||(t[39]=y(" Sunumu Görüntüle "))]),_:1,__:[39]},8,["href"]),d(r(w),{href:a.route("admin.presentations.index"),class:"block px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors"},{default:k(()=>[d(r(B),{class:"h-4 w-4 inline mr-2"}),t[40]||(t[40]=y(" Sunum Listesi "))]),_:1,__:[40]},8,["href"])])])])])]),v.value?(n(),l("div",Re,[e("div",We,[t[42]||(t[42]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Sunumu Sil ",-1)),t[43]||(t[43]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," Bu sunumu silmek istediğinize emin misiniz? Bu işlem geri alınamaz. ",-1)),e("div",Qe,[e("button",{onClick:t[7]||(t[7]=o=>v.value=!1),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700"}," İptal "),e("button",{onClick:F,class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg"}," Sil ")])])])):h("",!0)]}),_:1},8,["page-subtitle","breadcrumbs"]))}},ut=J(Xe,[["__scopeId","data-v-47d37280"]]);export{ut as default};
