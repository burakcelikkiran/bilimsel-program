import{f as c,o as d,a as e,g as w,d as j,y as J,z as R,c as S,w as b,b as o,u as l,l as U,h as _,t as n,S as y,i as m,F as E,j as G,n as L,T as H,m as K,J as p}from"./app-BkLrAedk.js";import{b as W,c as Q,A as X}from"./AdminLayout-CHzjQs8f.js";import{_ as ee}from"./ConfirmDialog-DRpKziqh.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as O}from"./CalendarDaysIcon-RpqlH8E2.js";import{r as re}from"./ArrowLeftIcon-7IsU4O-a.js";import{r as M}from"./PlusIcon-DoV9BNAc.js";import{r as z}from"./EyeIcon-Cyvl-doX.js";import{r as se}from"./PencilIcon-BAlI_fiK.js";import{r as ae}from"./EllipsisVerticalIcon-DZ5inpXW.js";import{r as oe}from"./DocumentDuplicateIcon-uT3NtFHV.js";import{r as le}from"./EyeSlashIcon-DjSxudKp.js";import{r as ne}from"./TrashIcon-BmbtPUrI.js";import"./HomeIcon-BQBmvNzm.js";import"./UsersIcon-BSahiIS1.js";import"./ClockIcon-DifFxn8x.js";import"./CheckCircleIcon-CtYdMLwD.js";import"./ExclamationTriangleIcon-DdIvds6G.js";import"./InformationCircleIcon-Bi46gR1E.js";function ie(a,i){return d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function B(a,i){return d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})])}const de={class:"w-full space-y-8"},ue={class:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},ce={class:"px-6 py-5 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20"},ge={class:"flex items-center justify-between"},me={class:"flex items-center space-x-4"},ve={class:"flex-shrink-0"},be={class:"h-12 w-12 bg-purple-600 rounded-xl flex items-center justify-center"},pe={class:"text-xl font-semibold text-gray-900 dark:text-white"},xe={class:"flex items-center space-x-8 text-sm"},fe={class:"text-center"},ye={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},he={class:"text-center"},ke={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},we={class:"text-center"},_e={class:"text-2xl font-bold text-green-600 dark:text-green-400"},De={class:"px-6 py-4 flex flex-wrap items-center justify-between gap-4 bg-white dark:bg-gray-900"},Ce={class:"flex items-center space-x-3"},$e={class:"flex items-center space-x-3"},je=["disabled"],Se={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},Ee={class:"relative"},Ge={class:"h-24 bg-gradient-to-br from-purple-500 to-blue-600 relative overflow-hidden"},Le={class:"absolute top-4 left-4 text-white"},Oe={class:"text-2xl font-bold"},Me={class:"absolute top-4 right-4 text-white"},ze={class:"text-sm opacity-90"},Be={class:"text-xs opacity-75"},Te={class:"p-6"},Ve={class:"flex items-start justify-between mb-4"},Ae={class:"flex-1"},Pe={class:"text-lg font-semibold text-gray-900 dark:text-white mb-1 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors"},Ne={class:"text-sm text-gray-500 dark:text-gray-400"},Ye={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2"},Fe={class:"grid grid-cols-2 gap-4 mb-4"},Ze={class:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},qe={class:"text-lg font-semibold text-gray-900 dark:text-white"},Ie={class:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},Je={class:"text-lg font-semibold text-gray-900 dark:text-white"},Re={class:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700"},Ue={class:"flex items-center space-x-2"},He=["onClick"],Ke={class:"relative"},We=["onClick"],Qe={key:0,class:"absolute right-0 bottom-full mb-2 w-44 bg-white dark:bg-gray-800 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-10 border dark:border-gray-700"},Xe={class:"py-1"},et=["onClick"],tt=["onClick"],rt=["onClick"],st={key:1,class:"text-center py-20"},at={class:"mx-auto h-24 w-24 text-gray-400 mb-6"},ot={class:"text-gray-500 dark:text-gray-400 mb-8 max-w-md mx-auto"},lt={class:"flex flex-col sm:flex-row items-center justify-center gap-4"},nt=["disabled"],it={key:2,class:"flex items-center justify-center"},dt={class:"flex items-center space-x-1"},ut=["disabled"],ct=["onClick","disabled"],gt=["disabled"],mt={__name:"Index",props:{event:{type:Object,required:!0},eventDays:{type:Object,required:!0},stats:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(a){const i=a,h=w(!1),v=w(null),g=w({show:!1,title:"",message:"",type:"warning",callback:null}),T=j(()=>[{label:"Etkinlikler",href:route("admin.events.index")},{label:i.event.name,href:route("admin.events.show",i.event.slug)},{label:"Günler",href:null}]),V=j(()=>{const s=i.eventDays.current_page,t=i.eventDays.last_page,r=2,x=[],u=[];for(let f=Math.max(2,s-r);f<=Math.min(t-1,s+r);f++)x.push(f);return s-r>2?u.push(1,"..."):u.push(1),u.push(...x),s+r<t-1?u.push("...",t):u.push(t),u.filter((f,q,I)=>I.indexOf(f)===q)}),D=s=>s?new Date(s).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"}):"-",A=s=>s?new Date(s).toLocaleDateString("tr-TR",{weekday:"long"}):"-",P=s=>{v.value=v.value===s?null:s},C=()=>{h.value=!0,p.post(route("admin.events.days.auto-create",i.event.slug),{},{onFinish:()=>h.value=!1,onError:()=>{alert("Otomatik gün oluşturma sırasında bir hata oluştu.")}})},N=s=>{p.visit(route("admin.events.days.show",[i.event.slug,s.id]))},Y=s=>{v.value=null,p.post(route("admin.events.days.duplicate",[i.event.slug,s.id]),{},{onError:()=>{alert("Gün kopyalama sırasında bir hata oluştu.")}})},F=s=>{v.value=null,p.patch(route("admin.events.days.toggle-status",[i.event.slug,s.id]),{},{onError:()=>{alert("Durum değiştirme sırasında bir hata oluştu.")}})},Z=s=>{v.value=null,g.value={show:!0,title:"Günü Sil",message:`"${s.title}" gününü silmek istediğinize emin misiniz? Bu işlem geri alınamaz.`,type:"danger",callback:()=>{p.delete(route("admin.events.days.destroy",[i.event.slug,s.id]),{onSuccess:()=>{g.value.show=!1},onError:()=>{alert("Silme işlemi sırasında bir hata oluştu.")}})}}},k=s=>{s>=1&&s<=i.eventDays.last_page&&p.get(route("admin.events.days.index",i.event.slug),{...i.filters,page:s},{preserveState:!0,preserveScroll:!0})},$=s=>{s.target.closest(".relative")||(v.value=null)};return J(()=>{document.addEventListener("click",$)}),R(()=>{document.removeEventListener("click",$)}),(s,t)=>(d(),S(X,{"page-title":`${a.event.name} - Günler`,"page-subtitle":"Etkinlik günlerini yönetin ve program oluşturun",breadcrumbs:T.value},{default:b(()=>[o(l(U),{title:`${a.event.name} - Günler`},null,8,["title"]),e("div",de,[e("div",ue,[e("div",ce,[e("div",ge,[e("div",me,[e("div",ve,[e("div",be,[o(l(O),{class:"h-8 w-8 text-white"})])]),e("div",null,[e("h3",pe,n(a.event.name),1),t[3]||(t[3]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Etkinlik Günleri Yönetimi",-1))])]),e("div",xe,[e("div",fe,[e("div",ye,n(a.stats.total_days),1),t[4]||(t[4]=e("div",{class:"text-gray-500 dark:text-gray-400"},"Toplam Gün",-1))]),e("div",he,[e("div",ke,n(a.stats.total_sessions),1),t[5]||(t[5]=e("div",{class:"text-gray-500 dark:text-gray-400"},"Oturum",-1))]),e("div",we,[e("div",_e,n(a.stats.total_presentations),1),t[6]||(t[6]=e("div",{class:"text-gray-500 dark:text-gray-400"},"Sunum",-1))])])])]),e("div",De,[e("div",Ce,[o(l(y),{href:s.route("admin.events.show",a.event.slug),class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-colors shadow-sm"},{default:b(()=>[o(l(re),{class:"h-4 w-4 mr-2"}),t[7]||(t[7]=m(" Etkinlik Detayı "))]),_:1,__:[7]},8,["href"])]),e("div",$e,[e("button",{onClick:C,disabled:h.value,class:"inline-flex items-center px-4 py-2 border border-purple-300 dark:border-purple-600 rounded-lg text-sm font-medium text-purple-700 dark:text-purple-300 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/40 focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed"},[o(l(B),{class:"h-4 w-4 mr-2"}),t[8]||(t[8]=m(" Otomatik Günler "))],8,je),o(l(y),{href:s.route("admin.events.days.create",a.event.slug),class:"inline-flex items-center px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-colors shadow-sm"},{default:b(()=>[o(l(M),{class:"h-4 w-4 mr-2"}),t[9]||(t[9]=m(" Yeni Gün Ekle "))]),_:1,__:[9]},8,["href"])])])]),a.eventDays.data.length>0?(d(),c("div",Se,[(d(!0),c(E,null,G(a.eventDays.data,(r,x)=>(d(),c("div",{key:r.id,class:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-all duration-200 group"},[e("div",Ee,[e("div",Ge,[t[11]||(t[11]=e("div",{class:"absolute inset-0 bg-black/10"},null,-1)),e("div",Le,[e("div",Oe,n(x+1),1),t[10]||(t[10]=e("div",{class:"text-sm opacity-90"},"Gün",-1))]),e("div",Me,[e("div",ze,n(A(r.date)),1),e("div",Be,n(D(r.date)),1)])])]),e("div",Te,[e("div",Ve,[e("div",Ae,[e("h3",Pe,n(r.title),1),e("p",Ne,n(D(r.date)),1)]),e("span",{class:L(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"])},n(r.is_active?"Aktif":"Pasif"),3)]),r.description?(d(),c("p",Ye,n(r.description),1)):_("",!0),e("div",Fe,[e("div",Ze,[e("div",qe,n(r.program_sessions_count||0),1),t[12]||(t[12]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Oturum",-1))]),e("div",Ie,[e("div",Je,n(r.presentations_count||0),1),t[13]||(t[13]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Sunum",-1))])]),e("div",Re,[e("div",Ue,[o(l(y),{href:s.route("admin.events.days.show",[a.event.slug,r.id]),class:"p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/50 transition-colors",title:"Görüntüle"},{default:b(()=>[o(l(z),{class:"h-4 w-4"})]),_:2},1032,["href"]),o(l(y),{href:s.route("admin.events.days.edit",[a.event.slug,r.id]),class:"p-2 text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900/50 transition-colors",title:"Düzenle"},{default:b(()=>[o(l(se),{class:"h-4 w-4"})]),_:2},1032,["href"]),e("button",{onClick:u=>N(r),class:"p-2 text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 rounded-lg hover:bg-purple-50 dark:hover:bg-purple-900/50 transition-colors",title:"Program Yönetimi"},[o(l(W),{class:"h-4 w-4"})],8,He)]),e("div",Ke,[e("button",{onClick:u=>P(r.id),class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[o(l(ae),{class:"h-4 w-4"})],8,We),o(H,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:b(()=>[v.value===r.id?(d(),c("div",Qe,[e("div",Xe,[e("button",{onClick:u=>Y(r),class:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[o(l(oe),{class:"h-4 w-4 mr-3"}),t[14]||(t[14]=m(" Kopyala "))],8,et),e("button",{onClick:u=>F(r),class:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[(d(),S(K(r.is_active?l(le):l(z)),{class:"h-4 w-4 mr-3"})),m(" "+n(r.is_active?"Pasif Yap":"Aktif Yap"),1)],8,tt),t[16]||(t[16]=e("hr",{class:"my-1 border-gray-200 dark:border-gray-600"},null,-1)),e("button",{onClick:u=>Z(r),class:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/50 transition-colors"},[o(l(ne),{class:"h-4 w-4 mr-3"}),t[15]||(t[15]=m(" Sil "))],8,rt)])])):_("",!0)]),_:2},1024)])])])]))),128))])):(d(),c("div",st,[e("div",at,[o(l(O),{class:"h-full w-full"})]),t[19]||(t[19]=e("h3",{class:"text-xl font-medium text-gray-900 dark:text-gray-100 mb-2"},"Henüz gün eklenmemiş",-1)),e("p",ot,n(a.event.name)+" etkinliği için günler ekleyerek program oluşturmaya başlayın. ",1),e("div",lt,[e("button",{onClick:C,disabled:h.value,class:"inline-flex items-center px-6 py-3 border border-purple-300 dark:border-purple-600 rounded-lg text-sm font-medium text-purple-700 dark:text-purple-300 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/40 focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed"},[o(l(B),{class:"h-5 w-5 mr-2"}),t[17]||(t[17]=m(" Otomatik Günler Oluştur "))],8,nt),o(l(y),{href:s.route("admin.events.days.create",a.event.slug),class:"inline-flex items-center px-6 py-3 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-colors shadow-sm"},{default:b(()=>[o(l(M),{class:"h-5 w-5 mr-2"}),t[18]||(t[18]=m(" İlk Günü Ekle "))]),_:1,__:[18]},8,["href"])])])),a.eventDays.last_page>1?(d(),c("div",it,[e("nav",dt,[e("button",{onClick:t[0]||(t[0]=r=>k(a.eventDays.current_page-1)),disabled:!a.eventDays.prev_page_url,class:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[o(l(ie),{class:"h-4 w-4"})],8,ut),(d(!0),c(E,null,G(V.value,r=>(d(),c("button",{key:r,onClick:x=>typeof r=="number"?k(r):null,disabled:typeof r!="number",class:L(["px-3 py-2 rounded-lg text-sm font-medium transition-colors",r===a.eventDays.current_page?"bg-purple-600 text-white":typeof r=="number"?"border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700":"text-gray-400 cursor-default"])},n(r),11,ct))),128)),e("button",{onClick:t[1]||(t[1]=r=>k(a.eventDays.current_page+1)),disabled:!a.eventDays.next_page_url,class:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[o(l(Q),{class:"h-4 w-4"})],8,gt)])])):_("",!0)]),o(ee,{modelValue:g.value.show,"onUpdate:modelValue":t[2]||(t[2]=r=>g.value.show=r),title:g.value.title,message:g.value.message,type:g.value.type,onConfirm:g.value.callback},null,8,["modelValue","title","message","type","onConfirm"])]),_:1},8,["page-title","breadcrumbs"]))}},Mt=te(mt,[["__scopeId","data-v-4a789d5b"]]);export{Mt as default};
