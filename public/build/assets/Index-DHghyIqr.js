import{f as o,o as n,a as e,d as b,h as y,t as l,b as p,u as v,n as T,c as O,i as q,m as W,F as w,j as D,p as A,J as M,g as j,C as F,e as E,L as G,y as N,w as I,l as X,S as Q,A as B}from"./app-BkLrAedk.js";import{e as Y,d as R,A as ee}from"./AdminLayout-CHzjQs8f.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as te}from"./AcademicCapIcon-7PSCWsOV.js";import{r as Z}from"./UserGroupIcon-CCxdIZXN.js";import{r as se}from"./MicrophoneIcon-C5nLQNHP.js";import{r as J}from"./StarIcon-hKaybb8s.js";import{c as H,b as ae}from"./UsersIcon-BSahiIS1.js";import{r as P}from"./ClockIcon-DifFxn8x.js";import{r as re}from"./UserIcon-Km4WuPNA.js";import{r as ne}from"./GlobeAltIcon-CjS7OEQ3.js";import{r as U}from"./EyeIcon-Cyvl-doX.js";import{r as L}from"./PencilSquareIcon-o7Yx3KSJ.js";import{r as ie}from"./ExclamationTriangleIcon-DdIvds6G.js";import{r as V}from"./CalendarDaysIcon-RpqlH8E2.js";import{r as oe}from"./DocumentArrowDownIcon-34hUXAGw.js";import"./HomeIcon-BQBmvNzm.js";function le(t,$){return n(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})])}const de={class:"presentation-header flex items-start justify-between"},ce={class:"flex-1 min-w-0"},ue={class:"presentation-title text-xs font-medium text-gray-800 dark:text-gray-200 group-hover:text-purple-600 transition-colors leading-tight"},me={key:0,class:"presentation-time flex items-center space-x-1 mt-1"},ge={class:"text-xs text-gray-500 dark:text-gray-400"},xe={key:0,class:"text-xs text-gray-400"},ye={class:"presentation-type ml-2"},ve={key:0,class:"presentation-abstract mt-2"},pe={class:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2"},be={key:1,class:"presentation-speakers mt-2"},ke={class:"flex items-start space-x-1"},he={class:"flex flex-col space-y-0.5 min-w-0"},fe={class:"text-xs text-gray-700 dark:text-gray-300 font-medium truncate"},_e={key:0,class:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0"},$e={key:1,class:"text-xs text-gray-500 dark:text-gray-400 truncate"},we={key:2,class:"presentation-language mt-2"},De={class:"flex items-center space-x-1"},Ce={class:"text-xs text-gray-500 dark:text-gray-400"},Se={class:"presentation-actions mt-2 flex items-center justify-between opacity-0 group-hover:opacity-100 transition-opacity"},Te={class:"flex items-center space-x-1"},Oe={class:"text-xs text-gray-400"},je={__name:"TimelinePresentationItem",props:{presentationData:{type:Object,required:!0},sessionData:{type:Object,required:!0}},emits:["presentation-click"],setup(t,{emit:$}){const u=t,f=$,h=b(()=>u.presentationData.formatted_time_range?u.presentationData.formatted_time_range:u.presentationData.start_time&&u.presentationData.end_time?`${u.presentationData.start_time} - ${u.presentationData.end_time}`:null),_=b(()=>["presentation-item",{keynote:"presentation-keynote",oral:"presentation-oral",poster:"presentation-poster",panel:"presentation-panel",workshop:"presentation-workshop"}[u.presentationData.presentation_type]||"presentation-default"]),S=b(()=>({keynote:"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-200",oral:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200",poster:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200",panel:"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-200",workshop:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-200"})[u.presentationData.presentation_type]||"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200"),k=b(()=>({keynote:J,oral:se,poster:Y,panel:Z,workshop:te})[u.presentationData.presentation_type]||H),m=b(()=>({keynote:"Keynote",oral:"Sözlü",poster:"Poster",panel:"Panel",workshop:"Workshop"})[u.presentationData.presentation_type]||"Sunum"),x=b(()=>u.presentationData.can_edit||u.sessionData.can_edit||!1),c=s=>{if(!s)return"";const g=Math.floor(s/60),C=s%60;return g>0&&C>0?`${g}s ${C}dk`:g>0?`${g}s`:`${C}dk`},i=s=>({primary:"Ana",co_speaker:"Ko",discussant:"Tartışmacı",moderator:"Moderatör"})[s]||s,r=s=>({en:"İngilizce",tr:"Türkçe",fr:"Fransızca",de:"Almanca",es:"İspanyolca"})[s]||s.toUpperCase(),a=()=>{f("presentation-click",u.presentationData)},d=()=>{M.visit(route("admin.presentations.edit",u.presentationData.id))};return(s,g)=>(n(),o("div",{class:T(["timeline-presentation-item group cursor-pointer",_.value]),onClick:a},[e("div",de,[e("div",ce,[e("h5",ue,l(t.presentationData.title),1),h.value?(n(),o("div",me,[p(v(P),{class:"h-3 w-3 text-gray-400"}),e("span",ge,l(h.value),1),t.presentationData.duration_minutes?(n(),o("span",xe," ("+l(c(t.presentationData.duration_minutes))+") ",1)):y("",!0)])):y("",!0)]),e("div",ye,[e("span",{class:T([S.value,"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium"])},[(n(),O(W(k.value),{class:"h-3 w-3 mr-1"})),q(" "+l(m.value),1)],2)])]),t.presentationData.abstract?(n(),o("div",ve,[e("p",pe,l(t.presentationData.abstract),1)])):y("",!0),t.presentationData.speakers&&t.presentationData.speakers.length>0?(n(),o("div",be,[e("div",ke,[p(v(re),{class:"h-3 w-3 text-gray-400 mt-0.5 flex-shrink-0"}),e("div",he,[(n(!0),o(w,null,D(t.presentationData.speakers,C=>(n(),o("div",{key:C.id,class:"flex items-center space-x-1"},[e("span",fe,l(C.full_name),1),C.speaker_role&&C.speaker_role!=="speaker"?(n(),o("span",_e," ("+l(i(C.speaker_role))+") ",1)):y("",!0),C.affiliation?(n(),o("span",$e," - "+l(C.affiliation),1)):y("",!0)]))),128))])])])):y("",!0),t.presentationData.language&&t.presentationData.language!=="tr"?(n(),o("div",we,[e("div",De,[p(v(ne),{class:"h-3 w-3 text-gray-400"}),e("span",Ce,l(r(t.presentationData.language)),1)])])):y("",!0),e("div",Se,[e("div",Te,[e("button",{onClick:A(a,["stop"]),class:"p-1 text-gray-400 hover:text-purple-600 transition-colors",title:"Sunumu Görüntüle"},[p(v(U),{class:"h-3 w-3"})]),x.value?(n(),o("button",{key:0,onClick:A(d,["stop"]),class:"p-1 text-gray-400 hover:text-orange-600 transition-colors",title:"Sunumu Düzenle"},[p(v(L),{class:"h-3 w-3"})])):y("",!0)]),e("div",Oe," #"+l(t.presentationData.id),1)]),g[0]||(g[0]=e("div",{class:"presentation-border mt-2 border-b border-gray-200 dark:border-gray-700 opacity-50"},null,-1))],2))}},qe=z(je,[["__scopeId","data-v-704dd394"]]),Ee={class:"session-header"},Pe={class:"flex items-start justify-between"},ze={class:"flex-1 min-w-0"},Ae={class:"session-title text-sm font-semibold text-gray-900 dark:text-white group-hover:text-purple-600 transition-colors"},Me={class:"session-meta flex items-center space-x-3 mt-1"},Fe={class:"flex items-center space-x-1 text-xs text-gray-600 dark:text-gray-400"},Be={key:0,class:"text-xs text-gray-500 dark:text-gray-500"},Ge={class:"flex items-center space-x-2 mt-2"},Le={key:0,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},Ie={key:1,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"},Ve={class:"session-actions flex items-start space-x-1 opacity-0 group-hover:opacity-100 transition-opacity"},Ne={key:0,class:"session-description mt-2"},Re={class:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2"},Ze={key:1,class:"session-moderators mt-3"},Je={class:"flex items-center space-x-1 text-xs"},He={class:"text-gray-500 dark:text-gray-500"},Ue={class:"flex flex-wrap items-center gap-1"},Ke={key:0},We={key:2,class:"session-category mt-2"},Xe={class:"flex items-center space-x-1"},Qe={class:"text-xs text-gray-600 dark:text-gray-400"},Ye={key:3,class:"session-sponsor mt-2"},et={class:"flex items-center space-x-1"},tt={class:"text-xs text-gray-700 dark:text-gray-300 font-medium"},st={key:4,class:"session-presentations mt-3"},at={class:"flex items-center justify-between"},rt={class:"flex items-center space-x-1 text-xs text-gray-600 dark:text-gray-400"},nt={class:"presentations-list mt-2 space-y-1"},it={key:5,class:"session-footer mt-3 pt-2 border-t border-gray-200 dark:border-gray-700"},ot={class:"flex items-center justify-between text-xs"},lt={class:"text-gray-500 dark:text-gray-500"},dt={class:"text-gray-400 dark:text-gray-600"},ct={__name:"TimelineSessionCard",props:{sessionData:{type:Object,required:!0},venueData:{type:Object,required:!0},dayData:{type:Object,required:!0},event:{type:Object,required:!0},timeScale:{type:String,default:"session"}},emits:["session-click","presentation-click"],setup(t,{emit:$}){const u=t,f=$,h=j(!1),_=b(()=>u.sessionData.start_time&&u.sessionData.end_time?`${u.sessionData.start_time} - ${u.sessionData.end_time}`:"Zaman belirtilmemiş"),S=b(()=>["session-card",{plenary:"session-plenary",parallel:"session-parallel",workshop:"session-workshop",poster:"session-poster",break:"session-break",lunch:"session-lunch",social:"session-social"}[u.sessionData.session_type]||"session-default"]),k=b(()=>({plenary:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",parallel:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",workshop:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",poster:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",break:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",lunch:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",social:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200"})[u.sessionData.session_type]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"),m=r=>{if(!r)return"";const a=Math.floor(r/60),d=r%60;return a>0&&d>0?`${a}s ${d}dk`:a>0?`${a}s`:`${d}dk`},x=()=>{f("session-click",u.sessionData)},c=()=>{M.visit(route("admin.program-sessions.edit",u.sessionData.id))},i=()=>{h.value=!h.value};return(r,a)=>(n(),o("div",{class:T(["timeline-session-card group cursor-pointer",[S.value,{"session-featured":t.sessionData.is_featured},{"session-break":t.sessionData.is_break}]]),onClick:x},[e("div",Ee,[e("div",Pe,[e("div",ze,[e("h4",Ae,l(t.sessionData.title),1),e("div",Me,[e("div",Fe,[p(v(P),{class:"h-3 w-3"}),e("span",null,l(t.sessionData.formatted_time_range||_.value),1)]),t.sessionData.duration_in_minutes?(n(),o("div",Be,l(m(t.sessionData.duration_in_minutes)),1)):y("",!0)]),e("div",Ge,[e("span",{class:T([k.value,"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium"])},l(t.sessionData.session_type_display||t.sessionData.session_type),3),t.sessionData.is_featured?(n(),o("span",Le,[p(v(J),{class:"h-3 w-3 mr-1"}),a[1]||(a[1]=q(" Öne Çıkan "))])):y("",!0),t.sessionData.is_break?(n(),o("span",Ie," Ara ")):y("",!0)])]),e("div",Ve,[e("button",{onClick:A(x,["stop"]),class:"p-1 text-gray-400 hover:text-purple-600 transition-colors",title:"Oturumu Görüntüle"},[p(v(U),{class:"h-4 w-4"})]),t.sessionData.can_edit?(n(),o("button",{key:0,onClick:A(c,["stop"]),class:"p-1 text-gray-400 hover:text-orange-600 transition-colors",title:"Oturumu Düzenle"},[p(v(L),{class:"h-4 w-4"})])):y("",!0)])])]),t.sessionData.description?(n(),o("div",Ne,[e("p",Re,l(t.sessionData.description),1)])):y("",!0),t.sessionData.moderators&&t.sessionData.moderators.length>0?(n(),o("div",Ze,[e("div",Je,[p(v(Z),{class:"h-3 w-3 text-gray-400"}),e("span",He,l(t.sessionData.moderator_title||"Moderatör")+":",1),e("div",Ue,[(n(!0),o(w,null,D(t.sessionData.moderators,(d,s)=>(n(),o("span",{key:d.id,class:"text-gray-700 dark:text-gray-300 font-medium"},[q(l(d.full_name),1),s<t.sessionData.moderators.length-1?(n(),o("span",Ke,",")):y("",!0)]))),128))])])])):y("",!0),t.sessionData.category?(n(),o("div",We,[e("div",Xe,[e("div",{class:"w-2 h-2 rounded-full",style:F({backgroundColor:t.sessionData.category.color})},null,4),e("span",Qe,l(t.sessionData.category.name),1)])])):y("",!0),t.sessionData.sponsor?(n(),o("div",Ye,[e("div",et,[p(v(ae),{class:"h-3 w-3 text-gray-400"}),a[2]||(a[2]=e("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"Sponsor:",-1)),e("span",tt,l(t.sessionData.sponsor.name),1)])])):y("",!0),t.sessionData.presentations&&t.sessionData.presentations.length>0?(n(),o("div",st,[e("div",at,[e("div",rt,[p(v(H),{class:"h-3 w-3"}),e("span",null,l(t.sessionData.presentations.length)+" Sunum",1)]),e("button",{onClick:A(i,["stop"]),class:"text-xs text-purple-600 hover:text-purple-700 transition-colors"},[q(l(h.value?"Gizle":"Göster")+" ",1),p(v(R),{class:T([{"rotate-180":h.value},"h-3 w-3 inline ml-1 transition-transform"])},null,8,["class"])])]),E(e("div",nt,[(n(!0),o(w,null,D(t.sessionData.presentations,d=>(n(),O(qe,{key:d.id,"presentation-data":d,"session-data":t.sessionData,onPresentationClick:a[0]||(a[0]=s=>r.$emit("presentation-click",s))},null,8,["presentation-data","session-data"]))),128))],512),[[G,h.value]])])):y("",!0),t.sessionData.is_break?y("",!0):(n(),o("div",it,[e("div",ot,[e("div",lt,l(t.sessionData.duration_in_minutes?m(t.sessionData.duration_in_minutes):"Süre belirsiz"),1),e("div",dt," #"+l(t.sessionData.id),1)])])),e("div",{class:"absolute inset-0 md:hidden",onClick:x})],2))}},ut=z(ct,[["__scopeId","data-v-7d754615"]]),mt={class:"timeline-venue-column"},gt={class:"venue-header mb-4"},xt={class:"flex items-center justify-between"},yt={class:"flex items-center space-x-3"},vt={class:"text-lg font-semibold text-gray-900 dark:text-white"},pt={class:"text-sm text-gray-500 dark:text-gray-400"},bt={class:"text-right"},kt={class:"text-lg font-bold text-gray-900 dark:text-white"},ht={class:"venue-sessions space-y-3"},ft={key:0,class:"empty-sessions"},_t={class:"bg-gray-50 dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600 p-8 text-center"},$t={class:"mx-auto h-12 w-12 text-gray-400 mb-3"},wt={class:"text-xs text-gray-500 dark:text-gray-400"},Dt={key:1,class:"time-conflicts mt-4"},Ct={class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3"},St={class:"flex items-start space-x-2"},Tt={class:"text-xs text-red-600 dark:text-red-300 mt-1"},Ot={class:"mt-2 space-y-1"},jt={key:2,class:"venue-summary mt-4"},qt={class:"bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-3"},Et={class:"grid grid-cols-3 gap-3 text-center text-xs"},Pt={class:"font-semibold text-gray-900 dark:text-white"},zt={class:"font-semibold text-gray-900 dark:text-white"},At={class:"font-semibold text-gray-900 dark:text-white"},Mt={key:0,class:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700"},Ft={class:"flex items-center justify-center space-x-2"},Bt={class:"flex space-x-1"},Gt={class:"text-xs text-gray-600 dark:text-gray-400"},Lt={__name:"TimelineVenueColumn",props:{venueData:{type:Object,required:!0},dayData:{type:Object,required:!0},event:{type:Object,required:!0},timeScale:{type:String,default:"session"}},emits:["session-click","presentation-click"],setup(t,{emit:$}){const u=t,f=b(()=>[...u.venueData.sessions].sort((i,r)=>{if(i.start_time&&r.start_time&&i.start_time!==r.start_time)return i.start_time.localeCompare(r.start_time);const a=i.sort_order||0,d=r.sort_order||0;return a-d})),h=b(()=>{const i=u.venueData.sessions.reduce((d,s)=>d+(s.duration_in_minutes||0),0),r=Math.floor(i/60),a=i%60;return r>0&&a>0?`${r}s ${a}dk`:r>0?`${r}s`:`${a}dk`}),_=b(()=>{const i=u.venueData.sessions;if(i.length===0)return"-";let r=null,a=null;return i.forEach(d=>{d.start_time&&(!r||d.start_time<r)&&(r=d.start_time),d.end_time&&(!a||d.end_time>a)&&(a=d.end_time)}),r&&a?`${r} - ${a}`:"Belirsiz"}),S=b(()=>u.venueData.sessions.reduce((i,r)=>{var a;return i+(((a=r.presentations)==null?void 0:a.length)||0)},0)),k=b(()=>{const i={};return u.venueData.sessions.forEach(r=>{const a=r.session_type||"other";i[a]=(i[a]||0)+1}),Object.entries(i).map(([r,a])=>({type:r,count:a}))}),m=b(()=>{const i=[],r=f.value;for(let a=0;a<r.length-1;a++){const d=r[a],s=r[a+1];d.end_time&&s.start_time&&d.end_time>s.start_time&&i.push({id:`${d.id}-${s.id}`,session1_id:d.id,session1_title:d.title,session2_id:s.id,session2_title:s.title,overlap_minutes:c(d.end_time,s.start_time)})}return i}),x=i=>({plenary:"bg-purple-500",parallel:"bg-blue-500",workshop:"bg-green-500",poster:"bg-yellow-500",break:"bg-gray-400",lunch:"bg-orange-500",social:"bg-pink-500"})[i]||"bg-gray-500",c=(i,r)=>{const[a,d]=i.split(":").map(Number),[s,g]=r.split(":").map(Number),C=a*60+d,K=s*60+g;return Math.abs(C-K)};return(i,r)=>(n(),o("div",mt,[e("div",gt,[e("div",{class:"rounded-lg shadow-sm border-2 p-4",style:F({borderColor:t.venueData.color||"#3B82F6",backgroundColor:`${t.venueData.color||"#3B82F6"}10`})},[e("div",xt,[e("div",yt,[e("div",{class:"w-4 h-4 rounded-full flex-shrink-0",style:F({backgroundColor:t.venueData.color||"#3B82F6"})},null,4),e("div",null,[e("h3",vt,l(t.venueData.display_name||t.venueData.name),1),e("p",pt,l(t.venueData.capacity?`Kapasite: ${t.venueData.capacity}`:"Salon"),1)])]),e("div",bt,[e("div",kt,l(t.venueData.sessions.length),1),r[2]||(r[2]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Oturum",-1))])])],4)]),e("div",ht,[(n(!0),o(w,null,D(f.value,a=>(n(),O(ut,{key:a.id,"session-data":a,"venue-data":t.venueData,"day-data":t.dayData,event:t.event,"time-scale":t.timeScale,onSessionClick:r[0]||(r[0]=d=>i.$emit("session-click",d)),onPresentationClick:r[1]||(r[1]=d=>i.$emit("presentation-click",d))},null,8,["session-data","venue-data","day-data","event","time-scale"]))),128))]),t.venueData.sessions.length===0?(n(),o("div",ft,[e("div",_t,[e("div",$t,[p(v(P),{class:"h-full w-full"})]),r[3]||(r[3]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},"Bu salonda oturum yok",-1)),e("p",wt,l(t.venueData.display_name||t.venueData.name)+" salonu için bu gün program bulunmuyor. ",1)])])):y("",!0),m.value.length>0?(n(),o("div",Dt,[e("div",Ct,[e("div",St,[p(v(ie),{class:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),e("div",null,[r[4]||(r[4]=e("h4",{class:"text-sm font-medium text-red-800 dark:text-red-200"},"Zaman Çakışması",-1)),e("p",Tt," Bu salonda "+l(m.value.length)+" zaman çakışması tespit edildi. ",1),e("div",Ot,[(n(!0),o(w,null,D(m.value,a=>(n(),o("div",{key:a.id,class:"text-xs text-red-600 dark:text-red-300"}," • "+l(a.session1_title)+" ↔ "+l(a.session2_title),1))),128))])])])])])):y("",!0),t.venueData.sessions.length>0?(n(),o("div",jt,[e("div",qt,[e("div",Et,[e("div",null,[e("div",Pt,l(h.value),1),r[5]||(r[5]=e("div",{class:"text-gray-500 dark:text-gray-400"},"Toplam Süre",-1))]),e("div",null,[e("div",zt,l(_.value),1),r[6]||(r[6]=e("div",{class:"text-gray-500 dark:text-gray-400"},"Zaman Aralığı",-1))]),e("div",null,[e("div",At,l(S.value),1),r[7]||(r[7]=e("div",{class:"text-gray-500 dark:text-gray-400"},"Sunum",-1))])]),k.value.length>0?(n(),o("div",Mt,[e("div",Ft,[r[8]||(r[8]=e("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Oturum Tipleri:",-1)),e("div",Bt,[(n(!0),o(w,null,D(k.value,a=>(n(),o("div",{key:a.type,class:"flex items-center space-x-1"},[e("div",{class:T([x(a.type),"w-2 h-2 rounded-full"])},null,2),e("span",Gt,l(a.count),1)]))),128))])])])):y("",!0)])])):y("",!0)]))}},It=z(Lt,[["__scopeId","data-v-55c3ff78"]]),Vt={class:"timeline-day-section"},Nt={class:"day-header mb-4"},Rt={class:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl shadow-sm text-white p-6"},Zt={class:"flex items-center justify-between"},Jt={class:"flex items-center space-x-4"},Ht={class:"h-12 w-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center"},Ut={class:"text-2xl font-bold"},Kt={class:"text-white text-opacity-90"},Wt={class:"flex items-center space-x-6 text-sm"},Xt={class:"text-center"},Qt={class:"text-2xl font-bold"},Yt={class:"text-center"},es={class:"text-2xl font-bold"},ts={class:"text-center"},ss={class:"text-2xl font-bold"},as={class:"venues-grid"},rs={key:0,class:"text-center py-12"},ns={class:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-8"},is={class:"mx-auto h-16 w-16 text-gray-400 mb-4"},os={class:"text-gray-500 dark:text-gray-400"},ls={key:1,class:"day-footer mt-6"},ds={class:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4"},cs={class:"flex items-center justify-between"},us={class:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400"},ms={class:"flex items-center space-x-1"},gs={class:"flex items-center space-x-1"},xs={class:"font-medium"},ys={class:"flex items-center space-x-2"},vs={class:"text-xs text-gray-600 dark:text-gray-400"},ps={__name:"TimelineDaySection",props:{dayData:{type:Object,required:!0},event:{type:Object,required:!0},timeScale:{type:String,default:"session"},timeHours:{type:Array,default:()=>[]}},emits:["session-click","presentation-click"],setup(t,{emit:$}){const u=t,f=b(()=>{const c=u.dayData.venues.length;return c===1?"grid-cols-1":c===2?"grid-cols-1 lg:grid-cols-2":c===3?"grid-cols-1 lg:grid-cols-2 xl:grid-cols-3":c===4?"grid-cols-1 lg:grid-cols-2 xl:grid-cols-4":"grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"}),h=b(()=>u.dayData.venues.reduce((c,i)=>c+i.sessions.length,0)),_=b(()=>u.dayData.venues.reduce((c,i)=>c+i.sessions.reduce((r,a)=>r+a.presentations.length,0),0)),S=b(()=>{let c=null,i=null;return u.dayData.venues.forEach(r=>{r.sessions.forEach(a=>{a.start_time&&(!c||a.start_time<c)&&(c=a.start_time),a.end_time&&(!i||a.end_time>i)&&(i=a.end_time)})}),c&&i?`${c} - ${i}`:"Zaman belirtilmemiş"}),k=b(()=>{const c=u.dayData.venues.reduce((a,d)=>a+d.sessions.reduce((s,g)=>s+(g.duration_in_minutes||0),0),0),i=Math.floor(c/60),r=c%60;return i>0&&r>0?`${i}s ${r}dk`:i>0?`${i}s`:`${r}dk`}),m=b(()=>{const c={};return u.dayData.venues.forEach(i=>{i.sessions.forEach(r=>{const a=r.session_type||"other";c[a]=(c[a]||0)+1})}),c}),x=c=>({plenary:"bg-purple-500",parallel:"bg-blue-500",workshop:"bg-green-500",poster:"bg-yellow-500",break:"bg-gray-400",lunch:"bg-orange-500",social:"bg-pink-500"})[c]||"bg-gray-500";return(c,i)=>(n(),o("div",Vt,[e("div",Nt,[e("div",Rt,[e("div",Zt,[e("div",Jt,[e("div",Ht,[p(v(V),{class:"h-8 w-8 text-white"})]),e("div",null,[e("h2",Ut,l(t.dayData.display_name||t.dayData.title),1),e("p",Kt,l(t.dayData.formatted_date),1)])]),e("div",Wt,[e("div",Xt,[e("div",Qt,l(h.value),1),i[2]||(i[2]=e("div",{class:"text-white text-opacity-80"},"Oturum",-1))]),e("div",Yt,[e("div",es,l(_.value),1),i[3]||(i[3]=e("div",{class:"text-white text-opacity-80"},"Sunum",-1))]),e("div",ts,[e("div",ss,l(t.dayData.venues.length),1),i[4]||(i[4]=e("div",{class:"text-white text-opacity-80"},"Salon",-1))])])])])]),e("div",as,[e("div",{class:T(["grid gap-6",f.value])},[(n(!0),o(w,null,D(t.dayData.venues,r=>(n(),O(It,{key:r.id,"venue-data":r,"day-data":t.dayData,event:t.event,"time-scale":t.timeScale,"time-hours":t.timeHours,onSessionClick:i[0]||(i[0]=a=>c.$emit("session-click",a)),onPresentationClick:i[1]||(i[1]=a=>c.$emit("presentation-click",a))},null,8,["venue-data","day-data","event","time-scale","time-hours"]))),128))],2)]),t.dayData.venues.length===0?(n(),o("div",rs,[e("div",ns,[e("div",is,[p(v(V),{class:"h-full w-full"})]),i[5]||(i[5]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"Bu gün için program yok",-1)),e("p",os,l(t.dayData.display_name||t.dayData.title)+" günü için henüz program oluşturulmamış.",1)])])):y("",!0),t.dayData.venues.length>0?(n(),o("div",ls,[e("div",ds,[e("div",cs,[e("div",us,[e("div",ms,[p(v(P),{class:"h-4 w-4"}),e("span",null,l(S.value),1)]),e("div",gs,[i[6]||(i[6]=e("span",null,"Toplam Süre:",-1)),e("span",xs,l(k.value),1)])]),e("div",ys,[i[7]||(i[7]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400 mr-2"},"Oturum Tipleri:",-1)),(n(!0),o(w,null,D(m.value,(r,a)=>(n(),o("div",{key:a,class:"flex items-center space-x-1"},[e("div",{class:T([x(a),"w-3 h-3 rounded-full"])},null,2),e("span",vs,l(r),1)]))),128))])])])])):y("",!0)]))}},bs=z(ps,[["__scopeId","data-v-73c98648"]]),ks={class:"timeline-container"},hs={class:"timeline-header mb-6"},fs={class:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},_s={class:"timeline-time-scale px-6 py-3 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"},$s={class:"flex items-center justify-between text-sm font-medium text-gray-700 dark:text-gray-300"},ws={class:"flex items-center space-x-4"},Ds={key:0,class:"timeline-ruler px-6 py-2 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700"},Cs={class:"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400 overflow-x-auto"},Ss={class:"font-medium"},Ts={class:"timeline-days space-y-8"},Os={class:"timeline-legend mt-8"},js={class:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},qs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Es={class:"space-y-2"},Ps={class:"text-sm text-gray-600 dark:text-gray-400"},zs={class:"space-y-2"},As={class:"text-sm text-gray-600 dark:text-gray-400"},Ms={class:"space-y-1 text-sm text-gray-600 dark:text-gray-400"},Fs={__name:"TimelineContainer",props:{timelineData:{type:Array,required:!0},event:{type:Object,required:!0},stats:{type:Object,required:!0}},emits:["session-click","presentation-click"],setup(t,{emit:$}){const u=t,f=j("session"),h=b(()=>{const k=[];for(let m=8;m<=18;m++)k.push(`${m.toString().padStart(2,"0")}:00`);return k}),_=b(()=>{const k=[],m=new Set;return u.timelineData.forEach(x=>{x.venues.forEach(c=>{m.has(c.id)||(k.push({id:c.id,name:c.display_name||c.name,color:c.color||"#3B82F6"}),m.add(c.id))})}),k}),S=b(()=>[{value:"plenary",label:"Genel Oturum",colorClass:"bg-purple-500"},{value:"parallel",label:"Paralel Oturum",colorClass:"bg-blue-500"},{value:"workshop",label:"Workshop",colorClass:"bg-green-500"},{value:"poster",label:"Poster",colorClass:"bg-yellow-500"},{value:"break",label:"Ara",colorClass:"bg-gray-400"},{value:"lunch",label:"Öğle Arası",colorClass:"bg-orange-500"},{value:"social",label:"Sosyal",colorClass:"bg-pink-500"}]);return N(()=>{console.log("TimelineContainer mounted with data:",u.timelineData)}),(k,m)=>(n(),o("div",ks,[e("div",hs,[e("div",fs,[e("div",_s,[e("div",$s,[m[4]||(m[4]=e("span",null,"Zaman Ölçeği",-1)),e("div",ws,[e("button",{onClick:m[0]||(m[0]=x=>f.value="hour"),class:T([f.value==="hour"?"bg-purple-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300","px-3 py-1 rounded-lg text-xs font-medium transition-colors"])}," Saatlik ",2),e("button",{onClick:m[1]||(m[1]=x=>f.value="session"),class:T([f.value==="session"?"bg-purple-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300","px-3 py-1 rounded-lg text-xs font-medium transition-colors"])}," Oturum ",2)])])]),f.value==="hour"?(n(),o("div",Ds,[e("div",Cs,[(n(!0),o(w,null,D(h.value,x=>(n(),o("div",{key:x,class:"flex-shrink-0 text-center min-w-[60px]"},[e("div",Ss,l(x),1)]))),128))])])):y("",!0)])]),e("div",Ts,[(n(!0),o(w,null,D(t.timelineData,x=>(n(),O(bs,{key:x.id,"day-data":x,event:t.event,"time-scale":f.value,"time-hours":h.value,onSessionClick:m[2]||(m[2]=c=>k.$emit("session-click",c)),onPresentationClick:m[3]||(m[3]=c=>k.$emit("presentation-click",c))},null,8,["day-data","event","time-scale","time-hours"]))),128))]),e("div",Os,[e("div",js,[m[8]||(m[8]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Açıklamalar",-1)),e("div",qs,[e("div",null,[m[5]||(m[5]=e("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"Oturum Tipleri",-1)),e("div",Es,[(n(!0),o(w,null,D(S.value,x=>(n(),o("div",{key:x.value,class:"flex items-center space-x-2"},[e("div",{class:T([x.colorClass,"w-4 h-4 rounded"])},null,2),e("span",Ps,l(x.label),1)]))),128))])]),e("div",null,[m[6]||(m[6]=e("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"Salon Renkleri",-1)),e("div",zs,[(n(!0),o(w,null,D(_.value,x=>(n(),o("div",{key:x.id,class:"flex items-center space-x-2"},[e("div",{style:F({backgroundColor:x.color}),class:"w-4 h-4 rounded"},null,4),e("span",As,l(x.name),1)]))),128))])]),e("div",null,[m[7]||(m[7]=e("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"İstatistikler",-1)),e("div",Ms,[e("div",null,"Toplam Gün: "+l(t.stats.total_days),1),e("div",null,"Toplam Salon: "+l(t.stats.total_venues),1),e("div",null,"Toplam Oturum: "+l(t.stats.total_sessions),1),e("div",null,"Toplam Sunum: "+l(t.stats.total_presentations),1),e("div",null,"Ortalama Oturum/Gün: "+l(t.stats.average_sessions_per_day),1)])])])])])]))}},Bs=z(Fs,[["__scopeId","data-v-0b43d0a7"]]),Gs={class:"mb-6"},Ls={class:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"},Is={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Vs={class:"flex items-center justify-between"},Ns={class:"flex items-center space-x-4"},Rs={class:"h-12 w-12 bg-purple-600 rounded-xl flex items-center justify-center"},Zs={class:"text-2xl font-bold text-gray-900 dark:text-white"},Js={class:"flex items-center space-x-3"},Hs={class:"relative"},Us={class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50"},Ks={class:"py-1"},Ws={class:"px-6 py-4 bg-gray-50 dark:bg-gray-800"},Xs={class:"grid grid-cols-2 md:grid-cols-5 gap-6"},Qs={class:"text-center"},Ys={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},ea={class:"text-center"},ta={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},sa={class:"text-center"},aa={class:"text-2xl font-bold text-green-600 dark:text-green-400"},ra={class:"text-center"},na={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},ia={class:"text-center"},oa={class:"text-2xl font-bold text-red-600 dark:text-red-400"},la={class:"mb-6"},da={class:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},ca={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ua=["value"],ma=["value"],ga=["value"],xa={class:"space-y-8"},ya={key:0,class:"flex items-center justify-center py-12"},va={key:2,class:"text-center py-12"},pa={class:"mx-auto h-16 w-16 text-gray-400 mb-4"},ba={__name:"Index",props:{event:{type:Object,required:!0},timelineData:{type:Array,required:!0},stats:{type:Object,required:!0},filters:{type:Object,required:!0}},setup(t){const $=t,u=j(!1),f=j(!1),h=j(!1),_=j({day_id:"",venue_id:"",category_id:"",session_type:""}),S=b(()=>[{label:"Ana Sayfa",href:route("admin.dashboard")},{label:"Etkinlikler",href:route("admin.events.index")},{label:$.event.name,href:route("admin.events.show",$.event.slug)},{label:"Timeline",href:null}]),k=j($.timelineData),m=async()=>{u.value=!0;try{const s=await(await fetch(route("admin.timeline.data",$.event.slug),{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(_.value)})).json();s.success&&(k.value=s.data)}catch(d){console.error("Filter error:",d)}finally{u.value=!1}},x=()=>{_.value={day_id:"",venue_id:"",category_id:"",session_type:""},k.value=$.timelineData},c=d=>{h.value=!1,d==="pdf"?window.location.href=route("admin.export.events.program-pdf",$.event.slug):d==="excel"?window.location.href=route("admin.export.events.program-excel",$.event.slug):M.post(route("admin.timeline.export",$.event.slug),{format:d,filters:_.value},{onSuccess:()=>{console.log("JSON export başarılı")},onError:s=>{console.error("Export error:",s)}})},i=d=>{M.visit(route("admin.program-sessions.show",d.id))},r=d=>{M.visit(route("admin.presentations.show",d.id))},a=d=>{d.target.closest(".relative")||(h.value=!1)};return N(()=>{document.addEventListener("click",a)}),(d,s)=>(n(),O(ee,{"page-title":`${t.event.name} - Timeline Görünümü`,"page-subtitle":"Etkinlik programının zaman çizelgesi görünümü",breadcrumbs:S.value},{default:I(()=>[p(v(X),{title:`${t.event.name} - Timeline`},null,8,["title"]),e("div",Gs,[e("div",Ls,[e("div",Is,[e("div",Vs,[e("div",Ns,[e("div",Rs,[p(v(P),{class:"h-8 w-8 text-white"})]),e("div",null,[e("h1",Zs,l(t.event.name),1),s[8]||(s[8]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Timeline Görünümü",-1))])]),e("div",Js,[e("button",{onClick:s[0]||(s[0]=g=>f.value=!f.value),class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[p(v(le),{class:"h-4 w-4 mr-2"}),s[9]||(s[9]=q(" Filtreler "))]),e("div",Hs,[e("button",{onClick:s[1]||(s[1]=g=>h.value=!h.value),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors"},[p(v(oe),{class:"h-4 w-4 mr-2"}),s[10]||(s[10]=q(" Dışa Aktar ")),p(v(R),{class:"h-4 w-4 ml-1"})]),E(e("div",Us,[e("div",Ks,[e("button",{onClick:s[2]||(s[2]=g=>c("pdf")),class:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}," PDF olarak dışa aktar "),e("button",{onClick:s[3]||(s[3]=g=>c("excel")),class:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}," Excel olarak dışa aktar "),e("button",{onClick:s[4]||(s[4]=g=>c("json")),class:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}," JSON olarak dışa aktar ")])],512),[[G,h.value]])]),t.event.can_edit?(n(),O(v(Q),{key:0,href:d.route("admin.timeline.edit",t.event.slug),class:"inline-flex items-center px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded-lg hover:bg-orange-700 transition-colors"},{default:I(()=>[p(v(L),{class:"h-4 w-4 mr-2"}),s[11]||(s[11]=q(" Düzenle "))]),_:1,__:[11]},8,["href"])):y("",!0)])])]),e("div",Ws,[e("div",Xs,[e("div",Qs,[e("div",Ys,l(t.stats.total_days),1),s[12]||(s[12]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Gün",-1))]),e("div",ea,[e("div",ta,l(t.stats.total_venues),1),s[13]||(s[13]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Salon",-1))]),e("div",sa,[e("div",aa,l(t.stats.total_sessions),1),s[14]||(s[14]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Oturum",-1))]),e("div",ra,[e("div",na,l(t.stats.total_presentations),1),s[15]||(s[15]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Sunum",-1))]),e("div",ia,[e("div",oa,l(t.stats.total_duration_hours)+"s",1),s[16]||(s[16]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Toplam Süre",-1))])])])])]),E(e("div",la,[e("div",da,[e("div",ca,[e("div",null,[s[18]||(s[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Gün",-1)),E(e("select",{"onUpdate:modelValue":s[5]||(s[5]=g=>_.value.day_id=g),onChange:m,class:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-800 text-sm"},[s[17]||(s[17]=e("option",{value:""},"Tüm günler",-1)),(n(!0),o(w,null,D(t.filters.days,g=>(n(),o("option",{key:g.value,value:g.value},l(g.label),9,ua))),128))],544),[[B,_.value.day_id]])]),e("div",null,[s[20]||(s[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Salon",-1)),E(e("select",{"onUpdate:modelValue":s[6]||(s[6]=g=>_.value.venue_id=g),onChange:m,class:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-800 text-sm"},[s[19]||(s[19]=e("option",{value:""},"Tüm salonlar",-1)),(n(!0),o(w,null,D(t.filters.venues,g=>(n(),o("option",{key:g.value,value:g.value},l(g.label),9,ma))),128))],544),[[B,_.value.venue_id]])]),e("div",null,[s[22]||(s[22]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Oturum Tipi",-1)),E(e("select",{"onUpdate:modelValue":s[7]||(s[7]=g=>_.value.session_type=g),onChange:m,class:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-800 text-sm"},[s[21]||(s[21]=e("option",{value:""},"Tüm tipler",-1)),(n(!0),o(w,null,D(t.filters.session_types,g=>(n(),o("option",{key:g.value,value:g.value},l(g.label),9,ga))),128))],544),[[B,_.value.session_type]])]),e("div",{class:"flex items-end"},[e("button",{onClick:x,class:"w-full px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-lg hover:bg-gray-700 transition-colors"}," Filtreleri Temizle ")])])])],512),[[G,f.value]]),e("div",xa,[u.value?(n(),o("div",ya,s[23]||(s[23]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"},null,-1),e("span",{class:"ml-3 text-gray-500 dark:text-gray-400"},"Timeline yükleniyor...",-1)]))):(n(),O(Bs,{key:1,"timeline-data":k.value,event:t.event,stats:t.stats,onSessionClick:i,onPresentationClick:r},null,8,["timeline-data","event","stats"])),!u.value&&k.value.length===0?(n(),o("div",va,[e("div",pa,[p(v(P),{class:"h-full w-full"})]),s[24]||(s[24]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"Program bulunamadı",-1)),s[25]||(s[25]=e("p",{class:"text-gray-500 dark:text-gray-400"},"Seçili filtreler için program bulunamadı.",-1)),e("button",{onClick:x,class:"mt-4 px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700"}," Filtreleri Temizle ")])):y("",!0)])]),_:1},8,["page-title","breadcrumbs"]))}},Ma=z(ba,[["__scopeId","data-v-135fc7ff"]]);export{Ma as default};
