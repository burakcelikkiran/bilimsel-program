import{d as o,f as n,o as r,a as m,h as u,n as f,t as c,g as p,s as se,E as k,y as le,i as re,e as ne,q as oe,C as ue,b as z,u as $,c as ie,m as de}from"./app-BkLrAedk.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as ge}from"./HashtagIcon-BDv2RVeq.js";import{r as me}from"./ChevronUpIcon-DF0hFMjr.js";import{d as fe}from"./AdminLayout-CHzjQs8f.js";const he={__name:"LoadingSpinner",props:{size:{type:String,default:"md",validator:t=>["xs","sm","md","lg","xl"].includes(t)},variant:{type:String,default:"primary",validator:t=>["primary","secondary","white","gray"].includes(t)},text:{type:String,default:null},centered:{type:Boolean,default:!1},overlay:{type:Boolean,default:!1}},setup(t){const h=t,C=o(()=>{const i=[];return h.centered&&i.push("flex items-center justify-center"),h.overlay&&i.push("fixed inset-0 bg-white bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75 z-50"),h.text&&i.push("flex flex-col items-center space-y-2"),i.join(" ")}),R=o(()=>({xs:"h-3 w-3",sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"})[h.size]),B=o(()=>{const i={primary:"border-blue-600 border-t-transparent",secondary:"border-gray-600 border-t-transparent",white:"border-white border-t-transparent",gray:"border-gray-400 border-t-transparent"},g={xs:"border",sm:"border",md:"border-2",lg:"border-2",xl:"border-4"};return`${i[h.variant]} ${g[h.size]} h-full w-full`}),s=o(()=>"text-sm text-gray-600 dark:text-gray-400");return(i,g)=>(r(),n("div",{class:f(C.value)},[m("div",{class:f(R.value)},[m("div",{class:f(["animate-spin rounded-full border-solid",B.value])},null,2)],2),t.text?(r(),n("div",{key:0,class:f(s.value)},c(t.text),3)):u("",!0)],2))}},ye={class:"form-group"},xe=["for"],ve={key:0,class:"text-red-500 ml-1"},be={class:"relative"},we=["id","placeholder","disabled","readonly","required","rows","maxlength","minlength"],pe={key:1,class:"absolute top-2 right-2"},ke={key:2,class:"absolute bottom-2 right-2 flex space-x-1 bg-white dark:bg-gray-800 rounded-md shadow-sm border border-gray-200 dark:border-gray-600 p-1"},ze=["title"],Ce={key:1,class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Re={key:2,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Be={key:3,class:"mt-1 text-sm text-green-600 dark:text-green-400"},Se={key:4,class:"mt-1 flex justify-between text-xs text-gray-500 dark:text-gray-400"},Me={key:0,class:"flex space-x-4"},Te={key:1},Ve={key:2,class:"text-right"},$e={key:5,class:"mt-2 text-xs text-gray-500 dark:text-gray-400 space-y-1"},Ee={class:"flex justify-between"},Fe={class:"flex justify-between"},Ie={__name:"FormTextarea",props:{modelValue:{type:String,default:""},label:{type:String,default:""},placeholder:{type:String,default:""},helpText:{type:String,default:""},errorMessage:{type:String,default:""},successMessage:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},rows:{type:Number,default:3},minRows:{type:Number,default:2},maxRows:{type:Number,default:null},maxlength:{type:Number,default:null},minlength:{type:Number,default:null},autoResize:{type:Boolean,default:!1},resizable:{type:[Boolean,String],default:!0,validator:t=>[!0,!1,"vertical","horizontal"].includes(t)},showCounter:{type:Boolean,default:!1},showStats:{type:Boolean,default:!1},showToolbar:{type:Boolean,default:!1},allowFormatting:{type:Boolean,default:!1},allowExpand:{type:Boolean,default:!1},size:{type:String,default:"md",validator:t=>["sm","md","lg"].includes(t)}},emits:["update:modelValue","input","change","blur","focus","paste","keydown"],setup(t,{expose:h,emit:C}){const R={template:"<strong>B</strong>"},B={template:"<em>I</em>"},s=t,i=C,g=p(null),P=p(null),S=p(!1),b=p(!1),w=p(!1),E=o(()=>`textarea-${Math.random().toString(36).substr(2,9)}`),l=o({get:()=>s.modelValue,set:e=>i("update:modelValue",e)}),x=o(()=>!!s.errorMessage),F=o(()=>!!s.successMessage),M=o(()=>{var e;return((e=l.value)==null?void 0:e.length)||0}),D=o(()=>{var e;return((e=l.value)==null?void 0:e.replace(/\s/g,"").length)||0}),I=o(()=>l.value?l.value.trim().split(/\s+/).filter(e=>e.length>0).length:0),L=o(()=>l.value?l.value.split(/\n\s*\n/).filter(e=>e.trim().length>0).length:0),K=o(()=>l.value?l.value.split(`
`).length:0),W=o(()=>{const a=Math.ceil(I.value/200);return a===1?"1 min":`${a} mins`}),O=o(()=>s.maxlength&&M.value>s.maxlength),U=o(()=>{if(w.value)return Math.max(s.rows*2,8);if(s.autoResize){const e=l.value?l.value.split(`
`).length:1,a=Math.max(e,s.minRows);return s.maxRows?Math.min(a,s.maxRows):a}return s.rows}),N=o(()=>{const e=["block","w-full","rounded-md","border","shadow-sm","transition-colors","duration-200","placeholder-gray-400","dark:placeholder-gray-500","bg-white","dark:bg-gray-900","text-gray-900","dark:text-gray-100","focus:outline-none","focus:ring-2","focus:ring-offset-0","focus:border-blue-500","focus:ring-blue-500"],a={sm:"px-3 py-1.5 text-sm",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"};return[...e,...a[s.size].split(" "),"border-gray-300","dark:border-gray-600"]}),A=e=>{const a=e.target.value;l.value=a,i("input",a,e),s.autoResize&&k(()=>T())},G=e=>{S.value=!1,i("blur",e.target.value,e)},J=e=>{S.value=!0,i("focus",e.target.value,e)},Q=e=>{i("keydown",e),e.key==="Tab"&&s.allowFormatting&&(e.preventDefault(),H("  "))},X=e=>{i("paste",e)},T=()=>{if(!s.autoResize||!g.value)return;const e=g.value;e.style.height="auto";const a=e.scrollHeight,d=s.minRows*24,y=s.maxRows?s.maxRows*24:1/0,v=Math.min(Math.max(a,d),y);e.style.height=`${v}px`},H=e=>{if(!g.value)return;const a=g.value,d=a.selectionStart,y=a.selectionEnd,v=l.value.substring(0,d)+e+l.value.substring(y);l.value=v,k(()=>{a.setSelectionRange(d+e.length,d+e.length),a.focus()})},V=(e,a)=>{if(!g.value)return;const d=g.value,y=d.selectionStart,v=d.selectionEnd,q=l.value.substring(y,v),ee=e+q+a,te=l.value.substring(0,y)+ee+l.value.substring(v);l.value=te,k(()=>{const j=y+e.length,ae=j+q.length;d.setSelectionRange(j,ae),d.focus()})},Y=()=>{w.value=!w.value},Z=()=>{var e;(e=g.value)==null||e.focus()},_=()=>{var e;(e=g.value)==null||e.blur()};return se(()=>s.modelValue,()=>{s.autoResize&&k(()=>T())},{immediate:!0}),le(()=>{s.autoResize&&T()}),h({focus:Z,blur:_,insertText:H,insertFormat:V,textareaRef:g}),(e,a)=>(r(),n("div",ye,[t.label?(r(),n("label",{key:0,for:E.value,class:f(["block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",{"text-red-600 dark:text-red-400":x.value}])},[re(c(t.label)+" ",1),t.required?(r(),n("span",ve,"*")):u("",!0)],10,xe)):u("",!0),m("div",be,[ne(m("textarea",{id:E.value,ref_key:"textareaRef",ref:g,"onUpdate:modelValue":a[0]||(a[0]=d=>l.value=d),placeholder:t.placeholder,disabled:t.disabled,readonly:t.readonly,required:t.required,rows:U.value,maxlength:t.maxlength,minlength:t.minlength,class:f(["form-textarea",[N.value,{"border-red-300 dark:border-red-600 focus:border-red-500 focus:ring-red-500":x.value,"border-green-300 dark:border-green-600 focus:border-green-500 focus:ring-green-500":F.value&&!x.value,"opacity-50 cursor-not-allowed":t.disabled,"bg-gray-50 dark:bg-gray-800":t.readonly,"resize-none":!t.resizable,"resize-y":t.resizable==="vertical","resize-x":t.resizable==="horizontal",resize:t.resizable===!0}]]),onInput:A,onBlur:G,onFocus:J,onKeydown:Q,onPaste:X},null,42,we),[[oe,l.value]]),t.autoResize?(r(),n("div",{key:0,ref_key:"shadowTextarea",ref:P,class:f(["absolute top-0 left-0 w-full pointer-events-none opacity-0 whitespace-pre-wrap break-words",N.value]),style:ue({height:"auto",minHeight:`${t.minRows*1.5}rem`,maxHeight:t.maxRows?`${t.maxRows*1.5}rem`:"none"})},c(l.value||t.placeholder)+"Â  ",7)):u("",!0),t.loading?(r(),n("div",pe,[z(he,{class:"h-5 w-5 text-gray-400"})])):u("",!0),t.showToolbar?(r(),n("div",ke,[t.allowFormatting?(r(),n("button",{key:0,type:"button",class:"toolbar-button",title:"Bold",onClick:a[1]||(a[1]=d=>V("**","**"))},[z(R,{class:"h-4 w-4"})])):u("",!0),t.allowFormatting?(r(),n("button",{key:1,type:"button",class:"toolbar-button",title:"Italic",onClick:a[2]||(a[2]=d=>V("*","*"))},[z(B,{class:"h-4 w-4"})])):u("",!0),t.showCounter?(r(),n("button",{key:2,type:"button",class:f(["toolbar-button",{"text-blue-600 dark:text-blue-400":b.value}]),title:"Toggle word count",onClick:a[3]||(a[3]=d=>b.value=!b.value)},[z($(ge),{class:"h-4 w-4"})],2)):u("",!0),t.allowExpand?(r(),n("button",{key:3,type:"button",class:"toolbar-button",title:w.value?"Collapse":"Expand",onClick:Y},[(r(),ie(de(w.value?$(me):$(fe)),{class:"h-4 w-4"}))],8,ze)):u("",!0)])):u("",!0)]),t.helpText&&!x.value?(r(),n("p",Ce,c(t.helpText),1)):u("",!0),x.value?(r(),n("p",Re,c(t.errorMessage),1)):u("",!0),F.value&&!x.value&&t.successMessage?(r(),n("p",Be,c(t.successMessage),1)):u("",!0),t.showCounter?(r(),n("div",Se,[b.value?(r(),n("div",Me,[m("span",null,"Words: "+c(I.value),1),m("span",null,"Characters: "+c(M.value),1)])):(r(),n("div",Te)),t.maxlength?(r(),n("div",Ve,[m("span",{class:f({"text-red-600 dark:text-red-400":O.value})},c(M.value)+" / "+c(t.maxlength),3)])):u("",!0)])):u("",!0),t.showStats&&(b.value||S.value)?(r(),n("div",$e,[m("div",Ee,[m("span",null,"Paragraphs: "+c(L.value),1),m("span",null,"Lines: "+c(K.value),1)]),m("div",Fe,[m("span",null,"Reading time: "+c(W.value),1),m("span",null,"Characters (no spaces): "+c(D.value),1)])])):u("",!0)]))}},De=ce(Ie,[["__scopeId","data-v-97508462"]]);export{De as F};
